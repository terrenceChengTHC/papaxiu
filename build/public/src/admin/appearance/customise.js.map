{"version":3,"sources":["public/src/admin/appearance/customise.js"],"names":["define","Settings","ace","Customise","init","prepare","$","text","val","customCSS","edit","customHTML","setTheme","getSession","setMode","on","app","flags","_unsaved","getValue","is","socket","emit"],"mappings":"AAAA,aAEAA,OAAO,8BAA+B,iBAAkB,WAAY,SAAUC,EAAUC,GACvF,IAAIC,KAEJA,EAAUC,KAAO,WAChBH,EAASI,QAAQ,WAChBC,EAAE,cAAcC,KAAKD,EAAE,qBAAqBE,OAC5CF,EAAE,eAAeC,KAAKD,EAAE,sBAAsBE,OAE9C,IAAIC,EAAYP,EAAIQ,KAAK,aACzB,IAAIC,EAAaT,EAAIQ,KAAK,cAE1BD,EAAUG,SAAS,sBACnBH,EAAUI,aAAaC,QAAQ,gBAE/BL,EAAUM,GAAG,SAAU,WACtBC,IAAIC,MAAQD,IAAIC,UAChBD,IAAIC,MAAMC,SAAW,KACrBZ,EAAE,qBAAqBE,IAAIC,EAAUU,cAGtCR,EAAWC,SAAS,sBACpBD,EAAWE,aAAaC,QAAQ,iBAEhCH,EAAWI,GAAG,SAAU,WACvBC,IAAIC,MAAQD,IAAIC,UAChBD,IAAIC,MAAMC,SAAW,KACrBZ,EAAE,sBAAsBE,IAAIG,EAAWQ,cAGxCb,EAAE,SAASS,GAAG,QAAS,WACtB,GAAIT,EAAE,qBAAqBc,GAAG,YAAa,CAC1CC,OAAOC,KAAK,iCAMhB,OAAOnB","file":"public/src/admin/appearance/customise.js","sourcesContent":["'use strict';\n\ndefine('admin/appearance/customise', ['admin/settings', 'ace/ace'], function (Settings, ace) {\n\tvar Customise = {};\n\n\tCustomise.init = function () {\n\t\tSettings.prepare(function () {\n\t\t\t$('#customCSS').text($('#customCSS-holder').val());\n\t\t\t$('#customHTML').text($('#customHTML-holder').val());\n\n\t\t\tvar customCSS = ace.edit('customCSS');\n\t\t\tvar customHTML = ace.edit('customHTML');\n\n\t\t\tcustomCSS.setTheme('ace/theme/twilight');\n\t\t\tcustomCSS.getSession().setMode('ace/mode/css');\n\n\t\t\tcustomCSS.on('change', function () {\n\t\t\t\tapp.flags = app.flags || {};\n\t\t\t\tapp.flags._unsaved = true;\n\t\t\t\t$('#customCSS-holder').val(customCSS.getValue());\n\t\t\t});\n\n\t\t\tcustomHTML.setTheme('ace/theme/twilight');\n\t\t\tcustomHTML.getSession().setMode('ace/mode/html');\n\n\t\t\tcustomHTML.on('change', function () {\n\t\t\t\tapp.flags = app.flags || {};\n\t\t\t\tapp.flags._unsaved = true;\n\t\t\t\t$('#customHTML-holder').val(customHTML.getValue());\n\t\t\t});\n\n\t\t\t$('#save').on('click', function () {\n\t\t\t\tif ($('#enableLiveReload').is(':checked')) {\n\t\t\t\t\tsocket.emit('admin.reloadAllSessions');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\treturn Customise;\n});\n"]}