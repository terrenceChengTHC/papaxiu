{"version":3,"sources":["public/src/admin/modules/instance.js"],"names":["define","instance","reload","callback","app","alert","alert_id","type","title","message","timeout","$","window","one","socket","emit","restart"],"mappings":"AAAA,aAGAA,OAAO,yBAA0B,WAChC,IAAIC,KAEJA,EAASC,OAAS,SAAUC,GAC3BC,IAAIC,OACHC,SAAU,kBACVC,KAAM,OACNC,MAAO,qDACPC,QAAS,uBACTC,QAAS,MAGVC,EAAEC,QAAQC,IAAI,qBAAsB,WACnCT,IAAIC,OACHC,SAAU,kBACVC,KAAM,UACNC,MAAO,sCACPC,QAAS,oCACTC,QAAS,MAGV,UAAWP,IAAa,WAAY,CACnCA,OAIFW,OAAOC,KAAK,iBAGbd,EAASe,QAAU,SAAUb,GAC5BC,IAAIC,OACHC,SAAU,mBACVC,KAAM,OACNC,MAAO,sDACPC,QAAS,gEACTC,QAAS,MAGVC,EAAEC,QAAQC,IAAI,qBAAsB,WACnCT,IAAIC,OACHC,SAAU,mBACVC,KAAM,UACNC,MAAO,sCACPC,QAAS,qCACTC,QAAS,MAGV,UAAWP,IAAa,WAAY,CACnCA,OAIFW,OAAOC,KAAK,gBAAiB,WAC5BX,IAAIC,OACHC,SAAU,mBACVC,KAAM,OACNC,MAAO,2DACPC,QAAS,uBACTC,QAAS,SAKZ,OAAOT","file":"public/src/admin/modules/instance.js","sourcesContent":["'use strict';\n\n\ndefine('admin/modules/instance', function () {\n\tvar instance = {};\n\n\tinstance.reload = function (callback) {\n\t\tapp.alert({\n\t\t\talert_id: 'instance_reload',\n\t\t\ttype: 'info',\n\t\t\ttitle: 'Reloading... <i class=\"fa fa-spin fa-refresh\"></i>',\n\t\t\tmessage: 'NodeBB is reloading.',\n\t\t\ttimeout: 5000,\n\t\t});\n\n\t\t$(window).one('action:reconnected', function () {\n\t\t\tapp.alert({\n\t\t\t\talert_id: 'instance_reload',\n\t\t\t\ttype: 'success',\n\t\t\t\ttitle: '<i class=\"fa fa-check\"></i> Success',\n\t\t\t\tmessage: 'NodeBB has reloaded successfully.',\n\t\t\t\ttimeout: 5000,\n\t\t\t});\n\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\n\t\tsocket.emit('admin.reload');\n\t};\n\n\tinstance.restart = function (callback) {\n\t\tapp.alert({\n\t\t\talert_id: 'instance_restart',\n\t\t\ttype: 'info',\n\t\t\ttitle: 'Rebuilding... <i class=\"fa fa-spin fa-refresh\"></i>',\n\t\t\tmessage: 'NodeBB is rebuilding front-end assets (css, javascript, etc).',\n\t\t\ttimeout: 10000,\n\t\t});\n\n\t\t$(window).one('action:reconnected', function () {\n\t\t\tapp.alert({\n\t\t\t\talert_id: 'instance_restart',\n\t\t\t\ttype: 'success',\n\t\t\t\ttitle: '<i class=\"fa fa-check\"></i> Success',\n\t\t\t\tmessage: 'NodeBB has successfully restarted.',\n\t\t\t\ttimeout: 10000,\n\t\t\t});\n\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\n\t\tsocket.emit('admin.restart', function () {\n\t\t\tapp.alert({\n\t\t\t\talert_id: 'instance_restart',\n\t\t\t\ttype: 'info',\n\t\t\t\ttitle: 'Build Complete!... <i class=\"fa fa-spin fa-refresh\"></i>',\n\t\t\t\tmessage: 'NodeBB is reloading.',\n\t\t\t\ttimeout: 10000,\n\t\t\t});\n\t\t});\n\t};\n\n\treturn instance;\n});\n"]}