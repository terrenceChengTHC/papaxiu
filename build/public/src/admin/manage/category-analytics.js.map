{"version":3,"sources":["public/src/admin/manage/category-analytics.js"],"names":["define","Chart","CategoryAnalytics","init","hourlyCanvas","document","getElementById","dailyCanvas","topicsCanvas","postsCanvas","hourlyLabels","utils","getHoursArray","map","text","idx","dailyLabels","getDaysArray","isMobile","defaults","global","tooltips","enabled","data","pageviews:hourly","labels","datasets","label","backgroundColor","borderColor","pointBackgroundColor","pointHoverBackgroundColor","pointBorderColor","pointHoverBorderColor","ajaxify","analytics","pageviews:daily","topics:daily","slice","posts:daily","width","$","parent","getContext","type","options","responsive","animation","legend","display","scales","yAxes","ticks","beginAtZero"],"mappings":"AAAA,aAGAA,OAAO,mCAAoC,SAAU,SAAUC,GAC9D,IAAIC,KAEJA,EAAkBC,KAAO,WACxB,IAAIC,EAAeC,SAASC,eAAe,oBAC3C,IAAIC,EAAcF,SAASC,eAAe,mBAC1C,IAAIE,EAAeH,SAASC,eAAe,gBAC3C,IAAIG,EAAcJ,SAASC,eAAe,eAC1C,IAAII,EAAeC,MAAMC,gBAAgBC,IAAI,SAAUC,EAAMC,GAC5D,OAAOA,EAAM,EAAI,GAAKD,IAEvB,IAAIE,EAAcL,MAAMM,eAAeJ,IAAI,SAAUC,EAAMC,GAC1D,OAAOA,EAAM,EAAI,GAAKD,IAGvB,GAAIH,MAAMO,WAAY,CACrBjB,EAAMkB,SAASC,OAAOC,SAASC,QAAU,MAG1C,IAAIC,GACHC,oBACCC,OAAQf,EACRgB,WAEEC,MAAO,GACPC,gBAAiB,wBACjBC,YAAa,sBACbC,qBAAsB,sBACtBC,0BAA2B,OAC3BC,iBAAkB,OAClBC,sBAAuB,sBACvBV,KAAMW,QAAQX,KAAKY,UAAU,uBAIhCC,mBACCX,OAAQT,EACRU,WAEEC,MAAO,GACPC,gBAAiB,wBACjBC,YAAa,sBACbC,qBAAsB,sBACtBC,0BAA2B,OAC3BC,iBAAkB,OAClBC,sBAAuB,sBACvBV,KAAMW,QAAQX,KAAKY,UAAU,sBAIhCE,gBACCZ,OAAQT,EAAYsB,OAAO,GAC3BZ,WAEEC,MAAO,GACPC,gBAAiB,sBACjBC,YAAa,oBACbC,qBAAsB,oBACtBC,0BAA2B,OAC3BC,iBAAkB,OAClBC,sBAAuB,oBACvBV,KAAMW,QAAQX,KAAKY,UAAU,mBAIhCI,eACCd,OAAQT,EAAYsB,OAAO,GAC3BZ,WAEEC,MAAO,GACPC,gBAAiB,wBACjBC,YAAa,sBACbC,qBAAsB,sBACtBC,0BAA2B,OAC3BC,iBAAkB,OAClBC,sBAAuB,sBACvBV,KAAMW,QAAQX,KAAKY,UAAU,mBAMjC/B,EAAaoC,MAAQC,EAAErC,GAAcsC,SAASF,QAC9CjC,EAAYiC,MAAQC,EAAElC,GAAamC,SAASF,QAC5ChC,EAAagC,MAAQC,EAAEjC,GAAckC,SAASF,QAC9C/B,EAAY+B,MAAQC,EAAEhC,GAAaiC,SAASF,QAE5C,IAAIvC,EAAMG,EAAauC,WAAW,OACjCC,KAAM,OACNrB,KAAMA,EAAK,oBACXsB,SACCC,WAAY,KACZC,UAAW,MACXC,QACCC,QAAS,OAEVC,QACCC,QACCC,OACCC,YAAa,YAOlB,IAAIpD,EAAMM,EAAYoC,WAAW,OAChCC,KAAM,OACNrB,KAAMA,EAAK,mBACXsB,SACCC,WAAY,KACZC,UAAW,MACXC,QACCC,QAAS,OAEVC,QACCC,QACCC,OACCC,YAAa,YAOlB,IAAIpD,EAAMO,EAAamC,WAAW,OACjCC,KAAM,OACNrB,KAAMA,EAAK,gBACXsB,SACCC,WAAY,KACZC,UAAW,MACXC,QACCC,QAAS,OAEVC,QACCC,QACCC,OACCC,YAAa,YAOlB,IAAIpD,EAAMQ,EAAYkC,WAAW,OAChCC,KAAM,OACNrB,KAAMA,EAAK,eACXsB,SACCC,WAAY,KACZC,UAAW,MACXC,QACCC,QAAS,OAEVC,QACCC,QACCC,OACCC,YAAa,aAQnB,OAAOnD","file":"public/src/admin/manage/category-analytics.js","sourcesContent":["'use strict';\n\n\ndefine('admin/manage/category-analytics', ['Chart'], function (Chart) {\n\tvar CategoryAnalytics = {};\n\n\tCategoryAnalytics.init = function () {\n\t\tvar hourlyCanvas = document.getElementById('pageviews:hourly');\n\t\tvar\tdailyCanvas = document.getElementById('pageviews:daily');\n\t\tvar\ttopicsCanvas = document.getElementById('topics:daily');\n\t\tvar\tpostsCanvas = document.getElementById('posts:daily');\n\t\tvar\thourlyLabels = utils.getHoursArray().map(function (text, idx) {\n\t\t\treturn idx % 3 ? '' : text;\n\t\t});\n\t\tvar\tdailyLabels = utils.getDaysArray().map(function (text, idx) {\n\t\t\treturn idx % 3 ? '' : text;\n\t\t});\n\n\t\tif (utils.isMobile()) {\n\t\t\tChart.defaults.global.tooltips.enabled = false;\n\t\t}\n\n\t\tvar data = {\n\t\t\t'pageviews:hourly': {\n\t\t\t\tlabels: hourlyLabels,\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\tbackgroundColor: 'rgba(186,139,175,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(186,139,175,1)',\n\t\t\t\t\t\tpointBackgroundColor: 'rgba(186,139,175,1)',\n\t\t\t\t\t\tpointHoverBackgroundColor: '#fff',\n\t\t\t\t\t\tpointBorderColor: '#fff',\n\t\t\t\t\t\tpointHoverBorderColor: 'rgba(186,139,175,1)',\n\t\t\t\t\t\tdata: ajaxify.data.analytics['pageviews:hourly'],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t'pageviews:daily': {\n\t\t\t\tlabels: dailyLabels,\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\tbackgroundColor: 'rgba(151,187,205,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(151,187,205,1)',\n\t\t\t\t\t\tpointBackgroundColor: 'rgba(151,187,205,1)',\n\t\t\t\t\t\tpointHoverBackgroundColor: '#fff',\n\t\t\t\t\t\tpointBorderColor: '#fff',\n\t\t\t\t\t\tpointHoverBorderColor: 'rgba(151,187,205,1)',\n\t\t\t\t\t\tdata: ajaxify.data.analytics['pageviews:daily'],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t'topics:daily': {\n\t\t\t\tlabels: dailyLabels.slice(-7),\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\tbackgroundColor: 'rgba(171,70,66,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(171,70,66,1)',\n\t\t\t\t\t\tpointBackgroundColor: 'rgba(171,70,66,1)',\n\t\t\t\t\t\tpointHoverBackgroundColor: '#fff',\n\t\t\t\t\t\tpointBorderColor: '#fff',\n\t\t\t\t\t\tpointHoverBorderColor: 'rgba(171,70,66,1)',\n\t\t\t\t\t\tdata: ajaxify.data.analytics['topics:daily'],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t'posts:daily': {\n\t\t\t\tlabels: dailyLabels.slice(-7),\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\tbackgroundColor: 'rgba(161,181,108,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(161,181,108,1)',\n\t\t\t\t\t\tpointBackgroundColor: 'rgba(161,181,108,1)',\n\t\t\t\t\t\tpointHoverBackgroundColor: '#fff',\n\t\t\t\t\t\tpointBorderColor: '#fff',\n\t\t\t\t\t\tpointHoverBorderColor: 'rgba(161,181,108,1)',\n\t\t\t\t\t\tdata: ajaxify.data.analytics['posts:daily'],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t};\n\n\t\thourlyCanvas.width = $(hourlyCanvas).parent().width();\n\t\tdailyCanvas.width = $(dailyCanvas).parent().width();\n\t\ttopicsCanvas.width = $(topicsCanvas).parent().width();\n\t\tpostsCanvas.width = $(postsCanvas).parent().width();\n\n\t\tnew Chart(hourlyCanvas.getContext('2d'), {\n\t\t\ttype: 'line',\n\t\t\tdata: data['pageviews:hourly'],\n\t\t\toptions: {\n\t\t\t\tresponsive: true,\n\t\t\t\tanimation: false,\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t},\n\t\t\t\tscales: {\n\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t}],\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tnew Chart(dailyCanvas.getContext('2d'), {\n\t\t\ttype: 'line',\n\t\t\tdata: data['pageviews:daily'],\n\t\t\toptions: {\n\t\t\t\tresponsive: true,\n\t\t\t\tanimation: false,\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t},\n\t\t\t\tscales: {\n\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t}],\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tnew Chart(topicsCanvas.getContext('2d'), {\n\t\t\ttype: 'line',\n\t\t\tdata: data['topics:daily'],\n\t\t\toptions: {\n\t\t\t\tresponsive: true,\n\t\t\t\tanimation: false,\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t},\n\t\t\t\tscales: {\n\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t}],\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tnew Chart(postsCanvas.getContext('2d'), {\n\t\t\ttype: 'line',\n\t\t\tdata: data['posts:daily'],\n\t\t\toptions: {\n\t\t\t\tresponsive: true,\n\t\t\t\tanimation: false,\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t},\n\t\t\t\tscales: {\n\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t}],\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\treturn CategoryAnalytics;\n});\n"]}