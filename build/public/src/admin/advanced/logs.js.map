{"version":3,"sources":["public/src/admin/advanced/logs.js"],"names":["define","Logs","init","logsEl","$","scrollTop","prop","affix","find","on","btnEl","this","action","attr","socket","emit","err","logs","text","app","alertError","message","alertSuccess","prev","click"],"mappings":"AAAA,aAGAA,OAAO,sBAAuB,WAC7B,IAAIC,KAEJA,EAAKC,KAAO,WACX,IAAIC,EAASC,EAAE,aACfD,EAAOE,UAAUF,EAAOG,KAAK,iBAE7BF,EAAE,UAAUG,QAEZH,EAAE,SAASI,KAAK,uBAAuBC,GAAG,QAAS,WAClD,IAAIC,EAAQN,EAAEO,MACd,IAAIC,EAASF,EAAMG,KAAK,eAExB,OAAQD,GACR,IAAK,SACJE,OAAOC,KAAK,iBAAkB,SAAUC,EAAKC,GAC5C,IAAKD,EAAK,CACTb,EAAOe,KAAKD,GACZd,EAAOE,UAAUF,EAAOG,KAAK,qBACvB,CACNa,IAAIC,WAAWJ,EAAIK,YAGrB,MAED,IAAK,QACJP,OAAOC,KAAK,mBAAoB,SAAUC,GACzC,IAAKA,EAAK,CACTG,IAAIG,aAAa,yCACjBZ,EAAMa,OAAOC,WAGf,UAKH,OAAOvB","file":"public/src/admin/advanced/logs.js","sourcesContent":["'use strict';\n\n\ndefine('admin/advanced/logs', function () {\n\tvar\tLogs = {};\n\n\tLogs.init = function () {\n\t\tvar logsEl = $('.logs pre');\n\t\tlogsEl.scrollTop(logsEl.prop('scrollHeight'));\n\t\t// Affix menu\n\t\t$('.affix').affix();\n\n\t\t$('.logs').find('button[data-action]').on('click', function () {\n\t\t\tvar btnEl = $(this);\n\t\t\tvar action = btnEl.attr('data-action');\n\n\t\t\tswitch (action) {\n\t\t\tcase 'reload':\n\t\t\t\tsocket.emit('admin.logs.get', function (err, logs) {\n\t\t\t\t\tif (!err) {\n\t\t\t\t\t\tlogsEl.text(logs);\n\t\t\t\t\t\tlogsEl.scrollTop(logsEl.prop('scrollHeight'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.alertError(err.message);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase 'clear':\n\t\t\t\tsocket.emit('admin.logs.clear', function (err) {\n\t\t\t\t\tif (!err) {\n\t\t\t\t\t\tapp.alertSuccess('[[admin/advanced/logs:clear-success]]');\n\t\t\t\t\t\tbtnEl.prev().click();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t};\n\n\treturn Logs;\n});\n"]}