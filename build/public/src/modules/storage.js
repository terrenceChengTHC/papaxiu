"use strict";define("storage",function(){function e(){this._store={};this._keys=[]}e.prototype.isMock=true;e.prototype.setItem=function(e,t){e=String(e);if(this._keys.indexOf(e)===-1){this._keys.push(e)}this._store[e]=t};e.prototype.getItem=function(e){e=String(e);if(this._keys.indexOf(e)===-1){return null}return this._store[e]};e.prototype.removeItem=function(e){e=String(e);this._keys=this._keys.filter(function(t){return t!==e});this._store[e]=null};e.prototype.clear=function(){this._keys=[];this._store={}};e.prototype.key=function(e){e=parseInt(e,10)||0;return this._keys[e]};if(Object.defineProperty){Object.defineProperty(e.prototype,"length",{get:function(){return this._keys.length}})}var t;var r=Date.now().toString();try{t=window.localStorage;t.setItem(r,r);if(t.getItem(r)!==r){throw Error("localStorage behaved unexpectedly")}t.removeItem(r);return t}catch(o){console.warn(o);console.warn("localStorage failed, falling back on sessionStorage");try{t=window.sessionStorage;t.setItem(r,r);if(t.getItem(r)!==r){throw Error("sessionStorage behaved unexpectedly")}t.removeItem(r);return t}catch(t){console.warn(t);console.warn("sessionStorage failed, falling back on memory storage");return new e}}});
//# sourceMappingURL=public/src/modules/storage.js.map