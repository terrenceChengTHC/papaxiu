{"version":3,"sources":["public/src/modules/sort.js"],"names":["define","components","module","handleSort","field","method","gotoOnSave","threadSort","get","find","removeClass","currentSetting","config","addClass","$","on","newSetting","this","attr","socket","emit","err","app","alertError","message","ajaxify","go"],"mappings":"AAAA,aAGAA,OAAO,QAAS,cAAe,SAAUC,GACxC,IAAIC,KAEJA,EAAOC,WAAa,SAAUC,EAAOC,EAAQC,GAC5C,IAAIC,EAAaN,EAAWO,IAAI,eAChCD,EAAWE,KAAK,KAAKC,YAAY,YACjC,IAAIC,EAAiBJ,EAAWE,KAAK,gBAAkBG,OAAOR,GAAS,MACvEO,EAAeF,KAAK,KAAKI,SAAS,YAElCC,EAAE,qBAAqBC,GAAG,QAAS,8BAA+B,WACjE,IAAIC,EAAaF,EAAEG,MAAMC,KAAK,aAC9BC,OAAOC,KAAKf,EAAQW,EAAY,SAAUK,GACzC,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,EAAIG,SAE3BZ,OAAOR,GAASY,EAChBS,QAAQC,GAAGpB,QAKd,OAAOJ","file":"public/src/modules/sort.js","sourcesContent":["'use strict';\n\n\ndefine('sort', ['components'], function (components) {\n\tvar module = {};\n\n\tmodule.handleSort = function (field, method, gotoOnSave) {\n\t\tvar threadSort = components.get('thread/sort');\n\t\tthreadSort.find('i').removeClass('fa-check');\n\t\tvar currentSetting = threadSort.find('a[data-sort=\"' + config[field] + '\"]');\n\t\tcurrentSetting.find('i').addClass('fa-check');\n\n\t\t$('.category, .topic').on('click', '[component=\"thread/sort\"] a', function () {\n\t\t\tvar newSetting = $(this).attr('data-sort');\n\t\t\tsocket.emit(method, newSetting, function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn app.alertError(err.message);\n\t\t\t\t}\n\t\t\t\tconfig[field] = newSetting;\n\t\t\t\tajaxify.go(gotoOnSave);\n\t\t\t});\n\t\t});\n\t};\n\n\treturn module;\n});\n"]}