{"version":3,"sources":["node_modules/nodebb-plugin-composer-default/static/lib/composer/autocomplete.js"],"names":["define","preview","autocomplete","init","postContainer","element","find","data","strategies","options","zIndex","listPosition","position","top","$","window","scrollTop","this","$el","css","_applyPlacement","trigger","textcomplete","on","render"],"mappings":"AAAA,aAIAA,OAAO,yBAA0B,oBAAqB,SAASC,GAE9D,IAAIC,KAEJA,EAAaC,KAAO,SAASC,GAC5B,IAAIC,EAAUD,EAAcE,KAAK,UACjC,IAAIC,GACHF,QAASA,EACTG,cACAC,SACCC,OAAQ,IACRC,aAAc,SAASC,GAEtBA,EAASC,KAAOC,EAAEC,QAAQC,YAE1BC,KAAKC,IAAIC,IAAIF,KAAKG,gBAAgBR,IAClCK,KAAKC,IAAIC,IAAI,WAAY,SACzB,OAAOF,QAKVH,EAAEC,QAAQM,QAAQ,6BAA8Bd,GAChDA,EAAKF,QAAQiB,aAAaf,EAAKC,WAAYD,EAAKE,SAChDK,EAAE,yBAAyBK,IAAI,SAAU,QAAQb,KAAK,YAAYa,IAAI,SAAU,QAEhFZ,EAAKF,QAAQkB,GAAG,sBAAuB,WACtCtB,EAAQuB,OAAOpB,MAIjB,OAAOF","file":"node_modules/nodebb-plugin-composer-default/static/lib/composer/autocomplete.js","sourcesContent":["'use strict';\r\n\r\n/* globals define */\r\n\r\ndefine('composer/autocomplete', ['composer/preview'], function(preview) {\r\n\r\n\tvar autocomplete = {};\r\n\r\n\tautocomplete.init = function(postContainer) {\r\n\t\tvar element = postContainer.find('.write');\r\n\t\tvar data = {\r\n\t\t\telement: element,\r\n\t\t\tstrategies: [],\r\n\t\t\toptions: {\r\n\t\t\t\tzIndex: 20000,\r\n\t\t\t\tlistPosition: function(position) {\r\n\t\t\t\t\t// Adjust calculated position based on window scrollTop value\r\n\t\t\t\t\tposition.top -= $(window).scrollTop();\r\n\r\n\t\t\t\t\tthis.$el.css(this._applyPlacement(position));\r\n\t\t\t\t\tthis.$el.css('position', 'fixed');\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$(window).trigger('composer:autocomplete:init', data);\r\n\t\tdata.element.textcomplete(data.strategies, data.options);\r\n\t\t$('.textcomplete-wrapper').css('height', '100%').find('textarea').css('height', '100%');\r\n\r\n\t\tdata.element.on('textComplete:select', function() {\r\n\t\t\tpreview.render(postContainer);\r\n\t\t});\r\n\t};\r\n\r\n\treturn autocomplete;\r\n});\r\n"]}