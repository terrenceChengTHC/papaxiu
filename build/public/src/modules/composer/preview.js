"use strict";define("composer/preview",function(){var e={};var i=0;e.render=function(e,r){r=r||function(){};if(i){clearTimeout(i);i=0}var o=e.find("textarea");i=setTimeout(function(){socket.emit("plugins.composer.renderPreview",o.val(),function(o,t){i=0;if(o){return}t=$(t);t.find("img:not(.not-responsive)").addClass("img-responsive");e.find(".preview").html(t);$(window).trigger("action:composer.preview");r()})},250)};e.matchScroll=function(e){var i=e.find("textarea");var r=e.find(".preview");if(i.length&&r.length){var o=i[0].scrollHeight-i.height();if(o===0){return}var t=i.scrollTop()/o;r.scrollTop(Math.max(r[0].scrollHeight-r.height(),0)*t)}};e.handleToggler=function(i){function r(){t(false);localStorage.setItem("composer:previewToggled",true)}function o(){t(true);localStorage.removeItem("composer:previewToggled")}function t(r){c.toggleClass("hide",!r);a.toggleClass("maximized",!r);n.toggleClass("hide",r);$(".write").focus();e.matchScroll(i)}var n=i.find(".write-container .toggle-preview"),l=i.find(".preview-container .toggle-preview"),c=$(".preview-container"),a=$(".write-container");l.on("click",r);n.on("click",o);if(localStorage.getItem("composer:previewToggled")){r()}else{o()}};return e});
//# sourceMappingURL=node_modules/nodebb-plugin-composer-default/static/lib/composer/preview.js.map