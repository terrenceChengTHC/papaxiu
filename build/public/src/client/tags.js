"use strict";define("forum/tags",["forum/infinitescroll"],function(t){var a={};var e=0;a.init=function(){app.enterRoom("tags");$("#tag-search").on("input propertychange",function(){if(e){clearTimeout(e);e=0}if(!$("#tag-search").val().length){return n()}e=setTimeout(function(){socket.emit("topics.searchAndLoadTags",{query:$("#tag-search").val()},function(t,a){if(t){return app.alertError(t.message)}r(a.tags,true,function(){e=0})})},100)});t.init(a.loadMoreTags)};a.loadMoreTags=function(a){if(a<0||!$(".tag-list").length||$("#tag-search").val()){return}t.loadMore("topics.loadMoreTags",{after:$(".tag-list").attr("data-nextstart")},function(t,a){if(t&&t.tags&&t.tags.length){r(t.tags,false,a);$(".tag-list").attr("data-nextstart",t.nextStart)}else{a()}})};function n(){socket.emit("topics.loadMoreTags",{after:0},function(t,a){if(t){return app.alertError(t.message)}r(a.tags,true)})}function r(t,a,e){e=e||function(){};app.parseAndTranslate("tags","tags",{tags:t},function(t){$(".tag-list")[a?"html":"append"](t);utils.makeNumbersHumanReadable(t.find(".human-readable-number"));e()})}return a});
//# sourceMappingURL=public/src/client/tags.js.map