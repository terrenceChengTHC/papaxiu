"use strict";define("forum/account/info",["forum/account/header","components"],function(t,e){var o={};o.init=function(){t.init();n();a()};function n(){$('[component="account/save-moderation-note"]').on("click",function(){var t=$('[component="account/moderation-note"]').val();socket.emit("user.setModerationNote",{uid:ajaxify.data.uid,note:t},function(e){if(e){return app.alertError(e.message)}$('[component="account/moderation-note"]').val("");app.alertSuccess("[[user:info.moderation-note.success]]");var o=Date.now();var n=[{note:t,user:app.user,timestamp:o,timestampISO:utils.toISOString(o)}];app.parseAndTranslate("account/info","moderationNotes",{moderationNotes:n},function(t){$('[component="account/moderation-note/list"]').prepend(t);t.find(".timeago").timeago()})})})}function a(){e.get("user/sessions").on("click","[data-action]",function(){var t=$(this).parents("[data-uuid]");var e=t.attr("data-uuid");if(e){$.ajax({url:config.relative_path+"/api/user/"+ajaxify.data.userslug+"/session/"+e,method:"delete",headers:{"x-csrf-token":config.csrf_token}}).done(function(){t.remove()}).fail(function(t){try{var e=JSON.parse(t.responseText);if(e.loggedIn===false){window.location.href=config.relative_path+"/login?error="+e.title}app.alertError(e.title)}catch(t){app.alertError("[[error:invalid-data]]")}})}})}return o});
//# sourceMappingURL=public/src/client/account/info.js.map